# тест кейсы тестирования добавления мест в избранное 

## приоритеты
- **p1** - критично, без этого не работает
- **p2** - важно, влияет на пользователей  
- **p3** - полезно, улучшает опыт
- **p4** - можно и без этого

---

## позитивные тесты

### p1 

**1. создание места с минимальными данными**
- отправить post с title, lat, lon
- проверить статус 200 и структуру ответа

**2. аутентификация с токеном**
- получить токен, создать место
- проверить что работает

**3. валидация полей**
- проверить что title, lat, lon обрабатываются корректно

**4. проверить что все поля в ответе есть и правильных типов**
(id=int, **title=str, lat=float, lon=float, color=str|null, created_at=str)


### p2 

**4. создание с цветом**
- проверить все цвета: blue, green, red, yellow, в ответе должен быть соотв. цвет.

**5. граничные значения title**
- title = 1 символ
- title = 999 символов

**6. граничные координаты**
- lat = -90, lon = -180
- lat = 90, lon = 180

**7. монотонность id**
- создать 2 места, проверить что id растет

**8. уникальность id**
что созданные места имеют уникальный id (проверить дубли через бд)

**9. формат даты**
- проверить что created_at в iso формате

**10. округление координат**
- отправить координаты с 9 знаками, проверить округление до 6

### p3

**11. спецсимволы в title**
- кириллица, цифры, знаки препинания

**12. производительность**
- создать 10 мест подряд

**13. кириллица в title**
- title на русском языке, проверить сохранение

**14. цифры в title**
- title с цифрами типа "кафе 123", проверить сохранение

**15. знаки препинания**
- title с кавычками, дефисами, проверить сохранение

**16. формат координат**
- проверить что координаты принимаются как числа, не строки

**17. спецсимволы**
- title с эмодзи и спец символами

---

## негативные тесты

### p1 

**101. отсутствие токена**
- отправить без токена, должно быть 401 или 403

**102. истекший токен**
- получить токен, подождать больше 2 сек, использовать, должно быть 401 или 403

**103. отсутствие полей**
- без title, получить 400 или 422
- без lat, получить 400 или 422  
- без lon, получить 400 или 422


### p2 

**104. пустой title**
- title пустая строка, получить 400 или 422

**105. слишком длинный title**
- title 1000 символов, получить 400 или 422

**106. невалидные координаты**
- lat больше 90 или меньше -90, получить 400 или 422
- lon больше 180 или меньше -180, получить 400 или 422

### p3

**107. неправильные типы**
- lat и lon как строки, получить 400 или 422

**108. невалидный цвет**
- color не из списка, получить 400 или 422 или игнорируется

**109. дублирование полей**
- отправить title дважды, получить 400 или 422 или берется последний

**110. sql инъекции, xss уязвимости**

**111. большие числа**
- координаты с очень большими значениями

**122. токен с мусором**
- токен с лишними символами, получить 401 или 403

